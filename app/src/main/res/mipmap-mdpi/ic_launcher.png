package com.zidoary.zidoaryapp.activities

import android.animation.Animator
import android.content.Intent
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.os.Handler
import android.util.Log
import android.util.Patterns
import android.view.View
import android.widget.Toast
import com.zidoary.zidoaryapp.CustomApplication
import com.zidoary.zidoaryapp.R
import com.zidoary.zidoaryapp.models.AuthToken
import com.zidoary.zidoaryapp.models.NetworkResponse
import com.zidoary.zidoaryapp.models.NetworkResponseList
import com.zidoary.zidoaryapp.models.User
import com.zidoary.zidoaryapp.repositories.AccountRepo
import com.zidoary.zidoaryapp.utils.IResponseCallback
import com.zidoary.zidoaryapp.utils.IResponseCallbackList
import kotlinx.android.synthetic.main.activity_login.*
import retrofit2.Response

class LoginActivity : AppCompatActivity() {

    companion object {
        private const val TAG = "MainActivity"
    }

    private var isAlreadyLoggedIn: Boolean = false
    private var mEmail: String = ""
    private var mPassword: String= ""

    override fun onResume() {
        super.onResume()

//        if (FirebaseAuth.getInstance().currentUser != null) {
//            isAlreadyLoggedIn = true
//            btn_sign_in.isEnabled = false
//            anim_sign_in_start.visibility = View.GONE
//            anim_sign_in_loading.visibility = View.VISIBLE
//            anim_sign_in_loading.playAnimation()
//            getUserInfo()
//        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_login)

        btn_sign_in.setOnClickListener {
            it.isEnabled = false
            mEmail = edittext_email.editText?.text.toString()
            mPassword = edittext_password.editText?.text.toString()
//            if (!validateFields(mEmail, mPassword)) {
//                it.isEnabled = true
//                return@setOnClickListener
//    